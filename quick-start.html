<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><title>h2zero by synapticloop</title><link rel="stylesheet" href="stylesheets/styles.css"><link rel="stylesheet" href="stylesheets/pygment_trac.css"><link rel="stylesheet" href="stylesheets/prettify.css" type="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><script src="javascripts/prettify.js" type="text/javascript" ></script></head><body><div class="wrapper"><header><h1>h2zero</h1><p>An Object Relationship Mapper (ORM) generator for Java, MySQL and optionally a J2EE container</p><hr /><h2>Navigation</h2><p>&raquo; <a href="index.html">Home</a><br />&raquo; <a href="quick-start.html">Quick Start</a><br />&raquo; Allowable JSON Keys Reference<br />&mdash;&raquo; <a href="allowable-keys-schema-objects.html">Schema Objects</a><br />&mdash;&raquo; <a href="allowable-keys-sql-interactions.html">SQL Interactions</a><br />&raquo; <a href="database-naming-conventions.html">Database Naming Conventions</a><br />&raquo; <a href="generated-code.html">Generated Code</a><br />&raquo; <a href="method-signatures.html">Method Signatures</a><br />&raquo; <a href="validators.html">Validators</a><br />&raquo; <a href="taglibs.html">Tag libraries</a><br />&raquo; <a href="clauses-and-fields.html">Clauses and Fields</a><br /></p><hr /><p>&raquo; <a href="file-format.html">File Format</a><br />&raquo; <a href="options.html">Options</a><br />&raquo; <a href="database.html">Database</a><br />&raquo; <a href="tables.html">Tables</a><br />&mdash;&raquo; <a href="fields.html">Fields</a><br />&mdash;&raquo; <a href="finders.html">Finders</a><br />&mdash;&raquo; <a href="field-finders.html">Field Finders</a><br />&mdash;&raquo; <a href="deleters.html">Deleters</a><br />&mdash;&raquo; <a href="inserters.html">Inserters</a><br />&mdash;&raquo; <a href="updaters.html">Updaters</a><br />&mdash;&raquo; <a href="questions.html">Questions</a><br />&mdash;&raquo; <a href="counters.html">Counters</a><br />&mdash;&raquo; <a href="constants.html">Constants</a><br />&raquo; <a href="views.html">Views</a><br />&mdash;&raquo; <a href="view-finders.html">Finders</a><br />&mdash;&raquo; <a href="view-field-finders.html">Field Finders</a><br />&mdash;&raquo; <a href="view-questions.html">Questions</a><br />&mdash;&raquo; <a href="view-counters.html">Counters</a><br /></p><hr /><p class="view"><a href="https://github.com/synapticloop/h2zero">View the Project on GitHub <small>synapticloop/h2zero</small></a></p><ul><li><a href="https://github.com/synapticloop/h2zero/zipball/master">Download <strong>ZIP File</strong></a></li><li><a href="https://github.com/synapticloop/h2zero/tarball/master">Download <strong>TAR Ball</strong></a></li><li><a href="https://github.com/synapticloop/h2zero">View On <strong>GitHub</strong></a></li></ul><p>This project is maintained by <a href="https://github.com/synapticloop">synapticloop</a> and these pages were generated with <a href="https://github.com/synapticloop/templar&raquo;gen/">synapticloop templar&raquo;gen</a></p></header><section><h3><a id="h2zero-pages" class="anchor" href="#h2zero-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick Start Guide.</h3><h4>Step 1</h4><p>Download the <a href="https://github.com/synapticloop/h2zero/tree/master/dist/h2zero.jar">h2zero jar file</a></p><p>Download the <a href="https://github.com/synapticloop/h2zero/tree/master/lib/runtime/">required dependencies</a></p><h4>Step 2</h4><p>Create your <code>.h2zero</code> file</p><p>To get started quickly, you can use the following h2zero file as a reference point - which is used throughout the examples listed in this documentation set.</p><p>This file generates a simple schema for a database that records users and their pets.  Each user may have multiple pets and each pet may have multiple users.</p><pre class="prettyprint"><code>{
"options": {
	"logging": "log4j",
	"statistics": false,
	"generators": [ "java", "sql", "taglib" ]
},
"database": {
	"schema": "sample",
	"package": "synapticloop.sample.h2zero",

	"tables": [
		{
			"name": "user_type",
			"comments": [
				"This is the user type table, which is a constant-generated table for all",
				"of the user types."
			],
			"fields": [
				{ "name": "id_user_type", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_user_type", "type": "varchar", "length": "32", "nullable": false },
			],
			"constants": [
				{ "name": "NORMAL", "values": [ 1, "normal" ] },
				{ "name": "SPECIAL", "values": [ 2, "special" ] },
				{ "name": "ADMIN", "values": [ 3, "admin" ] },
				{ "name": "SUPER_ADMIN", "values": [ 4, "super admin" ] }
			]
		},


		{
			"name": "user",
			"fields": [
				{ "name": "id_user", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user_type", "type": "bigint", "nullable": false, "index": true, "foreignKey": "user_type.id_user_type" },
				{ "name": "fl_is_alive", "type": "boolean", "nullable": true, "default": "'0'", "index": true },
				{ "name": "num_age", "type": "int", "nullable": false },
				{ "name": "nm_username", "type": "varchar", "length": "64", "nullable": false, "unique": true },
				{ "name": "txt_address_email", "type": "varchar", "length": "256", "nullable": false, "unique": true },
				{ "name": "txt_password", "type": "varchar", "length": "32", "nullable": false, "unique": true },
				{ "name": "dtm_signup", "type": "datetime", "nullable": true }
			],

			"fieldFinders": [
				{ "nm_username": "unique" },
				{ "txt_address_email": "unique" },
				{ "num_age": "multiple" },
				{ "fl_is_alive,num_age": "multiple" }
			],


			"finders": [
				{
					"name": "findByTxtAddressEmailTxtPassword",
					"whereClause": "where txt_address_email = ? and txt_password = ?",
					"whereFields": [
						"txt_address_email",
						"txt_password"
					],
					"unique": true
				},
				{
					"name": "findNmUserDtmSignup",
					"selectClause": "select nm_user, dtm_signup from user",
					"selectFields": [
						{ "name": "nm_user", "type": "varchar" },
						{ "name": "dtm_signup", "type": "datetime" }
					],
					"unique": false
				},
				{
					"name": "findGroupNumAge",
					"selectClause": "select count(*) as num_count, num_age from user group by num_count",
					"selectFields": [
						{ "name": "num_count", "type": "int" },
						{ "name": "num_age", "type": "int" }
					],
					"unique": false
				},
				{
					"name": "findByNumAgeIn",
					"whereClause": "where num_age in (...)",
					"whereFields": [
						"in:num_age"
					],
					"unique": false
				},
				{
					"name": "findByNumAgeBetween",
					"whereClause": "where num_age &gt; ? and num_age &lt; ?",
					"whereFields": [
						{ "name": "num_age", "alias": "numAgeMin" },
						{ "name": "num_age", "alias": "numAgeMax" }
					],
					"unique": false
				}


			],

			"questions": [
				{
					"name": "doWeHaveMoreThanTwentyUsers",
					"selectClause": "select count(*) &gt; 20 from user"
				},
				{
					"name": "doesUserNameExist",
					"selectClause": "select count(*) &gt; 0 from user"
				},
				{
					"name": "doWeHaveUsersBetweenAgeExclusive",
					"selectClause": "select count(*) &gt; 0 from user",
					"whereClause": "where num_age &gt; ? and num_age &lt; ?",
					"whereFields": [
						{ "name": "num_age", "alias": "numAgeFrom" },
						{ "name": "num_age", "alias": "numAgeTo" }
					]
				},
				{
					"name": "doWeHaveUsersInAges",
					"selectClause": "select count(*) &gt; 0 from user",
					"whereClause": "where num_age in (...)",
					"whereFields": [
						"in:num_age"
					]
				}
			],

			"counters": [
				{
					"name": "countNumberOfUsers",
					"selectClause": "select count(*) from user",
				},
				{
					"name": "countNumberOfUsersOverAge",
					"selectClause": "select count(*) from user",
					"whereClause": "where num_age &gt; ?",
					"whereFields": [
						"num_age"
					]
				},
				{
					"name": "countNumberOfUsersBetweenAge",
					"selectClause": "select count(*) from user",
					"whereClause": "where num_age &gt; ? and num_age &lt; ?",
					"whereFields": [
						{ "name": "num_age", "alias": "numAgeFrom" },
						{ "name": "num_age", "alias": "numAgeTo" }
					]
				},
				{
					"name": "countUsersInAges",
					"selectClause": "select count(*) from user",
					"whereClause": "where num_age in (...)",
					"whereFields": [
						"in:num_age"
					]
				}
			]
		},


		{
			"name": "pet",
			"fields": [
				{ "name": "id_pet", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "nm_pet", "type": "boolean", "nullable": true, "default": "'0'", "index": true },
				{ "name": "num_age", "type": "int", "nullable": false },
				{ "name": "flt_weight", "type": "float", "length": "6", "decimalLength": 1, "nullable": true },
				{ "name": "dt_birthday", "type": "date", "nullable": true }
			]
		},


		{
			"name": "user_pet",
			"fields": [
				{ "name": "id_user_pet", "type": "bigint", "nullable": false, "primary": true },
				{ "name": "id_user", "type": "bigint", "nullable": false, "index": true, "foreignKey": "user.id_user" },
				{ "name": "id_pet", "type": "bigint", "nullable": false, "index": true, "foreignKey": "pet.id_pet" }
			]
		}
	]
}
}
</code></pre><h4>Step 3</h4><p>Set up your ant build.xml file</p><pre class="prettyprint lang-xml"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project name="h2zero-sample"&gt;
	&lt;path id="classpath-h2zero"&gt;
		&lt;fileset dir="lib/runtime"&gt;
			&lt;include name="*.jar"/&gt;
		&lt;/fileset&gt;
	&lt;/path&gt;

	&lt;target name="h2zero" description="h2zero generate"&gt;
		&lt;taskdef name="h2zero" classpathref="classpath-h2zero" classname="synapticloop.h2zero.ant.H2ZeroTask" /&gt;
		&lt;h2zero in="src/main/java/sample.h2zero" outDir="." verbose="false" /&gt;
	&lt;/target&gt;

&lt;/project&gt;
</code></pre><h4>Step 4</h4><p>Generate the code!</p><pre class="prettyprint lang-bash"><code>ant h2zero</code></pre><p>This will generate all of the required code for you h2zero file and database creation scripts, see the <a href="generated-code.html"><code>generated code</code></a> page for an overview of the directory structure and the code that is generated.</p></section><script type="text/javascript">
	var _paq = _paq || [];
	_paq.push(['trackPageView']);
	_paq.push(['enableLinkTracking']);
	(function() {
		var u="//piwik.synapticloop.com/";
		_paq.push(['setTrackerUrl', u+'piwik.php']);
		_paq.push(['setSiteId', 13]);
		var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
		g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
	})();
</script>
<noscript><p><img src="//piwik.synapticloop.com/piwik.php?idsite=13" style="border:0;" alt="" /></p></noscript>
</div><script src="javascripts/scale.fix.js"></script></body></html>