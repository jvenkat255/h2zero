{import src/imports/page-heading.templar}

<p>Finders will most likely be the most often used elements of h2zero and can be configured in a variety of ways.</p>


<p>
	As the name implies, 'finders' provide methods to retrieve specific rows from the database.  Finders by 
	default return the entire row as a POJO.  Finders can also be configured to return a subset of fields 
	through a {import src/imports/links/selectClause.templar} bean.
</p>

<p>
	<code>finders</code> is a JSON Array of JSON Objects within the <code>table</code> object.
</p>
<pre class="prettyprint lang-json">
	<code>
{pre
"tables": [
	{
		"name": "table_name",
		"fields": [
			{ ... }
		],
		"finders": [
			{ ... }
		]
	},
	...
]
pre}
	</code>
</pre>

<h4>Finder Types</h4>

<p>
	The types of finders are as follows:
</p>

<ul>
	<li><strong>default finder</strong>
		<ul>
			<li>When you want to select a subset of the rows from the database</li>
			<li>This maps to a sql query <code>select * from table where condition = something;</code></li>
			<li>This will return either a single POJO or a <code>List</code> of POJOs</li>
		</ul>
	</li>
	<li><strong>select clause finder</strong>
		<ul>
			<li>When you want to select a subset of fields for a subset of rows from the database</li>
			<li>This maps to a sql query <code>select field_1, field_2 from table where condition = something;</code></li>
			<li>This will return either single <code>selectClauseBean</code> or a <code>List</code> of <code>selectClauseBean</code>s containing only the values for <code>field_1</code> and <code>field_2</code></li>
		</ul>
	</li>
	<li><strong>field finders</strong> (see {import src/imports/links/fieldFinders.templar})
		<ul>
			<li>This is a shortcut method to generate finders based on a field or fields</li>
			<li>When This maps to a sql query <code>select * from table where field_1 = something and field_2 = something;</code> and will return a complete row.</li>
			<li>This will return either a single POJO or a <code>List</code> of POJOs</li>
		</ul>
	</li>
</ul>

<h4>Alternates to the <strong>select clause finder</strong></h4>
<p>
	Rather than configuring {import src/imports/links/selectClause.templar} bean (more on this below) type queries, 
	the following shortcut finder generators are also available:
</p>

<dl>
	<dt>{import src/imports/links/counters.templar}</dt>
	<dd>For simple counts on objects that return <strong>one and only one</strong> Integer value per query.</dd>
	<dt>{import src/imports/links/questions.templar}</dt>
	<dd>For simple questions on objects that return <strong>one and only one</strong> Boolean value per query.</dd>
</dl>


{import src/imports/tables/allowable-keys-table.templar}

<h3>Default Finders</h3>

<p>
	By default <code>Finders</code> are designed to return either a unique object  or an <code>List</code> of objects, 
	which contain the complete row record or records respectively. 
</p>

<pre class="prettyprint lang-json">
<code>
"finders": [{\n}
{\t}{{{\n}{\n}
{\t}{\t}"name": "findByTxtAddressEmailTxtPassword",{\n}
{\t}{\t}"whereClause": "where txt_address_email = ? and txt_password = ?",{\n}
{\t}{\t}"whereFields": [{\n}
{\t}{\t}{\t}"txt_address_email",{\n}
{\t}{\t}{\t}"txt_password"{\n}
{\t}{\t}],{\n}
{\t}{\t}"unique": true{\n}
{\t}}{\n}
]{\n}
	</code>
</pre>

<p>
	This will return a unique row (if it exists) on a lookup by txt_address_email and txt_password.  Depending on 
	the method signature, if the row cannot be found an exception will be thrown.  if the <code>*Silent</code> 
	method signature is used, then a <code>null</code> result will be returned.
</p>

{set defaultUserFinder as code}
{import src/imports/links/link-to-code.templar}

<p>
	With the following method signatures
</p>

			<pre class="prettyprint lang-java">
				<code>
public static User findByTxtAddressEmailTxtPassword(Connection connection, String txtAddressEmail, String txtPassword, Integer limit, Integer offset) throws H2ZeroFinderException, SQLException {\n}
public static User findByTxtAddressEmailTxtPassword(Connection connection, String txtAddressEmail, String txtPassword) throws H2ZeroFinderException, SQLException {\n}
public static User findByTxtAddressEmailTxtPassword(String txtAddressEmail, String txtPassword, Integer limit, Integer offset) throws H2ZeroFinderException, SQLException {\n}
public static User findByTxtAddressEmailTxtPassword(String txtAddressEmail, String txtPassword) throws H2ZeroFinderException, SQLException {\n}
public static User findByTxtAddressEmailTxtPasswordSilent(Connection connection, String txtAddressEmail, String txtPassword, Integer limit, Integer offset) {\n}
public static User findByTxtAddressEmailTxtPasswordSilent(Connection connection, String txtAddressEmail, String txtPassword) {\n}
public static User findByTxtAddressEmailTxtPasswordSilent(String txtAddressEmail, String txtPassword, Integer limit, Integer offset) {\n}
public static User findByTxtAddressEmailTxtPasswordSilent(String txtAddressEmail, String txtPassword) {\n}
				</code>
			</pre>

			{import src/imports/method-signatures-explanation.templar}

			<p>
				If the "taglibs" option is enabled, this will also generate a tag library (and its associated entry in the TLD) 
				file.
			</p>

			{set defaultUserFinderTaglib as code}
			{import src/imports/links/link-to-code.templar}

			<h3>
				<a id="h2zero-page" class="anchor" href="#h2zero-page" aria-hidden="true"></a>
				selectClause Finders - subset of fields
			</h3>

			<p>
				In some  instances it is desirable to only return specific fields from the database, or to use in-built MySQL 
				language functions that do not map directly to a specific field in the table.  In this case the 
				{import src/imports/links/selectClause.templar} finder is useful.
			</p>

			<pre class="prettyprint">
				<code>
"finders": [{\n}
{\t}{{{\n}
{\t}{\t}"name": "findNmUserDtmSignup",{\n}
{\t}{\t}"selectClause": "select nm_user, dtm_signup from user",{\n}
{\t}{\t}"selectFields": [{\n}
{\t}{\t}{\t}{{ "name": "nm_user", "type": "varchar" },{\n}
{\t}{\t}{\t}{{ "name": "dtm_signup", "type": "datetime" }{\n}
{\t}{\t}],{\n}
{\t}{\t}"unique": false{\n}
{\t}}{\n}
]{\n}
				</code>
			</pre>

			<p>
				This will return multiple rows (if they exists) on a lookup by nm_user and dtm_signup.  Depending on 
				the method signature, if the rows cannot be found an exception will be thrown.  if the <code>*Silent</code> 
				method signature is used, then a <code>null</code> result will be returned.
			</p>

			<p>
				Due to the fact that the entire table row is not being selected (only two of the fields are being selected) a 
				bean is also generated for the returned results, which will contain getters and setters for all of the selected 
				fields.  The bean name is <code>&lt;finderName&gt;Bean</code>. In the above example the bean name will be 
				<code>findNmUserDtmSignupBean</code>
			</p>

			{set selectClauseUserFinder as code}
			{import src/imports/links/link-to-code.templar}

			{set selectClauseUserFinderBean as code}
			{import src/imports/links/link-to-code.templar}

			<p>
				With the following method signatures
			</p>

			<pre class="prettyprint lang-java">
				<code>
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignup(Connection connection, Integer limit, Integer offset) throws H2ZeroFinderException, SQLException {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignup(Connection connection) throws H2ZeroFinderException, SQLException {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignup(Integer limit, Integer offset) throws H2ZeroFinderException, SQLException {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignup() throws H2ZeroFinderException, SQLException {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignupSilent(Connection connection, Integer limit, Integer offset) {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignupSilent(Connection connection) {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignupSilent(Integer limit, Integer offset) {\n}
public static List&lt;FindNmUserDtmSignupBean&gt; findNmUserDtmSignupSilent() {\n}
				</code>
			</pre>

			{import src/imports/method-signatures-explanation.templar}

			<p>
				If the "taglibs" option is enabled, this will also generate a tag library (and its associated entry in the TLD) 
				file.
			</p>

			{set selectClauseUserFinderTaglib as code}
			{import src/imports/links/link-to-code.templar}

			<h3>
				<a id="h2zero-page" class="anchor" href="#h2zero-page" aria-hidden="true"></a>
				selectClause Finders - MySQL in-built functions
			</h3>

			<p>
				In some  instances it is desirable to only return specific fields from the database, or to use in-built MySQL 
				language functions that do not map directly to a specific field in the table.  In this case the 
				{import src/imports/links/selectClause.templar} finder is useful.
			</p>

			<pre class="prettyprint">
				<code>
"finders": [{\n}
{\t}{{{\n}
{\t}{\t}"name": "findGroupNumAge",{\n}
{\t}{\t}"selectClause": "select count(*) as num_count, num_age from user group by num_count",{\n}
{\t}{\t}"selectFields": [{\n}
{\t}{\t}{\t}{{ "name": "num_count", "type": "int" },{\n}
{\t}{\t}{\t}{{ "name": "num_age", "type": "int" }{\n}
{\t}{\t}],{\n}
{\t}{\t}"unique": false{\n}
{\t}}{\n}
]{\n}
				</code>
			</pre>


			<p>
				This will return multiple rows (if they exists) on a lookup by nm_user and dtm_signup.  Depending on 
				the method signature, if the rows cannot be found an exception will be thrown.  if the <code>*Silent</code> 
				method signature is used, then a <code>null</code> result will be returned.
			</p>

			<p>
				Due to the fact that the entire table row is not being selected (only two of the fields are being selected) a 
				bean is also generated for the returned results, which will contain getters and setters for all of the selected 
				fields.  The bean name is <code>&lt;finderName&gt;Bean</code>. In the above example the bean name will be 
				<code>findNmUserDtmSignupBean</code>
			</p>

			{set selectClauseUserFinder as code}
			{import src/imports/links/link-to-code.templar}

			{set selectClauseGroupUserFinderBean as code}
			{import src/imports/links/link-to-code.templar}

			<p>
				With the following method signatures
			</p>

			<pre class="prettyprint lang-java">
				<code>
public static List&lt;FindNmGroupNumAgeBean&gt; findGroupNumAge() throws H2ZeroFinderException, SQLException {\n}
public static List&lt;FindNmGroupNumAgeBean&gt; findGroupNumAge(Connection connection) throws H2ZeroFinderException, SQLException {\n}
public static List&lt;FindNmGroupNumAgeBean&gt; findGroupNumAgeSilent() {\n}
public static List&lt;FindNmGroupNumAgeBean&gt; findGroupNumAgeSilent(Connection connection) {\n}
				</code>
			</pre>

			{import src/imports/method-signatures-explanation.templar}

			<p>
				If the "taglibs" option is enabled, this will also generate a tag library (and its associated entry in the TLD) 
				file.
			</p>

			{set selectClauseGroupUserFinderTaglib as code}
			{import src/imports/links/link-to-code.templar}

